# –ú–∏–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç –Ω–∞ OpenStreetMap

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–ª —Å –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã OpenStreetMap, —á—Ç–æ —É—Å—Ç—Ä–∞–Ω–∏–ª–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ API –∫–ª—é—á–∞—Ö –∏ —Å–Ω–∏–∑–∏–ª–æ –∑–∞—Ç—Ä–∞—Ç—ã.

## –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### üñ•Ô∏è **–ë—ç–∫–µ–Ω–¥ (backend/src/routes/maps.ts)**

1. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç—ã** - –∑–∞–º–µ–Ω–µ–Ω –Ø–Ω–¥–µ–∫—Å Static API –Ω–∞ OpenStreetMap Static API
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å `staticmap.openstreetmap.de`
   - –î–æ–±–∞–≤–ª–µ–Ω fallback –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
   - SVG fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

2. **–ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∑–∞–º–µ–Ω–µ–Ω –Ø–Ω–¥–µ–∫—Å Geocode API –Ω–∞ Nominatim
   - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å OpenStreetMap –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
   - –°–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ —Å –Ø–Ω–¥–µ–∫—Å API

3. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Leaflet
   - –ü—Ä–æ–∫—Å–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ Leaflet CSS –∏ JS
   - –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞—Ä—Ç

### üé® **–§—Ä–æ–Ω—Ç–µ–Ω–¥**

1. **–ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç InteractiveMap** (`components/InteractiveMap.tsx`)
   - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –Ω–∞ –±–∞–∑–µ Leaflet
   - –ú–∞—Ä–∫–µ—Ä—ã –º–∞–≥–∞–∑–∏–Ω–æ–≤ —Å popup –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑—É–º

2. **–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–∞–≥–∞–∑–∏–Ω–æ–≤** (`pages/Shops.tsx`)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Leaflet –±–∏–±–ª–∏–æ—Ç–µ–∫
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ–π
   - –£–ª—É—á—à–µ–Ω–Ω—ã–π UX —Å –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### üí∞ **–≠–∫–æ–Ω–æ–º–∏—è**
- **0 —Ä—É–±–ª–µ–π** –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç
- –ù–µ—Ç –ª–∏–º–∏—Ç–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
- –ù–µ –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å API –∫–ª—é—á–∞–º–∏

### üöÄ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- –û—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ OpenStreetMap
- –ù–µ—Å–∫–æ–ª—å–∫–æ fallback —Å–µ—Ä–≤–∏—Å–æ–≤
- SVG fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

### üéØ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã
- –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ CDN
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç—ã
```
GET /api/maps/static?ll=37.618423,55.751244&z=10&size=800,600
```

### –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
```
GET /api/maps/geocode?ll=37.618423,55.751244
```

### Leaflet —Ä–µ—Å—É—Ä—Å—ã
```
GET /api/maps/leaflet-js  - JavaScript –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
GET /api/maps/leaflet-css - –°—Ç–∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:**
   ```bash
   npm run dev
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—Ä—Ç:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–∞–≥–∞–∑–∏–Ω–æ–≤
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –≤ —Ä–µ–∂–∏–º "–ö–∞—Ä—Ç–∞"
   - –ö–∞—Ä—Ç—ã –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ API:**
   ```bash
   curl "http://localhost:3000/api/maps/static?ll=37.618423,55.751244&z=10"
   ```

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ API –æ—Ç–≤–µ—Ç—ã —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º
- ‚úÖ UI/UX –æ—Å—Ç–∞–ª—Å—è –ø—Ä–µ–∂–Ω–∏–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ –∫–∞—Ä—Ç—ã (–Ø–Ω–¥–µ–∫—Å, Google, 2GIS) —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- **OpenStreetMap Static**: `staticmap.openstreetmap.de`
- **Nominatim**: `nominatim.openstreetmap.org`
- **Leaflet**: `unpkg.com/leaflet@1.9.4`

### –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç—ã: PNG/SVG
- –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ: JSON (—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å –Ø–Ω–¥–µ–∫—Å API)
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã: Leaflet —Å OpenStreetMap —Ç–∞–π–ª–∞–º–∏

---

## –†–µ–∑—é–º–µ

–ú–∏–≥—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –¢–µ–ø–µ—Ä—å –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã –±–µ–∑ API –∫–ª—é—á–µ–π, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Å–Ω–∏–∂–∞–µ—Ç –∑–∞—Ç—Ä–∞—Ç—ã.
