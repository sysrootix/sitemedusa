# ะะตัะฐััะธัะตัะบะธะน ะบะฐัะฐะปะพะณ ัะพะฒะฐัะพะฒ

## ๐ ะะฟะธัะฐะฝะธะต

ะะตะฐะปะธะทะพะฒะฐะฝะฐ ัะธััะตะผะฐ ะฝะฐะฒะธะณะฐัะธะธ ะฟะพ ะบะฐัะฐะปะพะณั ัะพะฒะฐัะพะฒ ั ะฟะพะปะฝะพะน ะฟะพะดะดะตัะถะบะพะน ะธะตัะฐััะธะธ ะบะฐัะตะณะพัะธะน.

## โจ ะะพะทะผะพะถะฝะพััะธ

### ะัะบะตะฝะด (Backend)

1. **API ะดะปั ัะฐะฑะพัั ั ะบะฐัะตะณะพัะธัะผะธ:**
   - `GET /api/catalog/categories/hierarchy` - ะฟะพะปััะตะฝะธะต ะบะฐัะตะณะพัะธะน (ะบะพัะฝะตะฒัั ะธะปะธ ะดะพัะตัะฝะธั)
     - ะะฐัะฐะผะตััั:
       - `parent_id` (ะพะฟัะธะพะฝะฐะปัะฝะพ) - ID ัะพะดะธัะตะปััะบะพะน ะบะฐัะตะณะพัะธะธ
       - `shop_code` (ะพะฟัะธะพะฝะฐะปัะฝะพ) - ะบะพะด ะผะฐะณะฐะทะธะฝะฐ
   
   - `GET /api/catalog/categories/:id` - ะฟะพะปััะตะฝะธะต ะบะฐัะตะณะพัะธะธ ั breadcrumb
     - ะะฐัะฐะผะตััั:
       - `shop_code` (ะพะฑัะทะฐัะตะปัะฝะพ) - ะบะพะด ะผะฐะณะฐะทะธะฝะฐ
   
   - `GET /api/catalog/categories/:categoryId/products` - ะฟะพะปััะตะฝะธะต ัะพะฒะฐัะพะฒ ะบะฐัะตะณะพัะธะธ
     - ะะฐัะฐะผะตััั:
       - `shop_code` (ะพะฟัะธะพะฝะฐะปัะฝะพ)
       - `page`, `limit` (ะฟะฐะณะธะฝะฐัะธั)

### ะคัะพะฝัะตะฝะด (Frontend)

1. **ะะพะผะฟะพะฝะตะฝัั:**
   - `CategoryBreadcrumbs` - ะฝะฐะฒะธะณะฐัะธั ะฟะพ ัะปะตะฑะฝัะผ ะบัะพัะบะฐะผ
   - `CategoryCard` - ะบะฐััะพัะบะฐ ะบะฐัะตะณะพัะธะธ ั ะธะฝะดะธะบะฐัะธะตะน ะฟะพะดะบะฐัะตะณะพัะธะน
   - `CatalogHierarchical` - ะพัะฝะพะฒะฝะพะน ะบะพะผะฟะพะฝะตะฝั ะบะฐัะฐะปะพะณะฐ

2. **ะคัะฝะบัะธะพะฝะฐะป:**
   - โ ะัะพะฑัะฐะถะตะฝะธะต ะบะพัะฝะตะฒัั ะบะฐัะตะณะพัะธะน ะฟัะธ ะฒัะพะดะต
   - โ ะะปะธะบ ะฟะพ ะบะฐัะตะณะพัะธะธ โ ะฟะพะบะฐะท ะฟะพะดะบะฐัะตะณะพัะธะน ะธะปะธ ัะพะฒะฐัะพะฒ
   - โ Breadcrumbs ะดะปั ะฝะฐะฒะธะณะฐัะธะธ ะฝะฐะทะฐะด
   - โ ะะฝะดะธะบะฐัะธั ะฝะฐะปะธัะธั ะฟะพะดะบะฐัะตะณะพัะธะน
   - โ ะกััััะธะบ ัะพะฒะฐัะพะฒ ะฒ ะบะฐัะตะณะพัะธะธ
   - โ ะะปะฐะฒะฝัะต ะฐะฝะธะผะฐัะธะธ ะฟะตัะตัะพะดะพะฒ
   - โ ะะดะฐะฟัะธะฒะฝัะน ะดะธะทะฐะนะฝ
   - โ ะขัะผะฝะฐั ัะตะผะฐ
   - โ ะะฐะณะธะฝะฐัะธั ัะพะฒะฐัะพะฒ

## ๐ฏ ะะฐะบ ัะฐะฑะพัะฐะตั ะฝะฐะฒะธะณะฐัะธั

```
1. ะะพะปัะทะพะฒะฐัะตะปั ะทะฐัะพะดะธั ะฝะฐ /catalog
   โ
2. ะะพะบะฐะทัะฒะฐัััั ะบะพัะฝะตะฒัะต ะบะฐัะตะณะพัะธะธ (level 0)
   ะะฐะฟัะธะผะตั: "Vape ะธะฝะดััััะธั", "ะะฐะปััะฝะฝะฐั ะะฝะดััััะธั", "ะะฐะถะธะณะฐะปะบะธ"
   โ
3. ะะปะธะบ ะฟะพ "Vape ะธะฝะดััััะธั"
   โ
4. ะะพะบะฐะทัะฒะฐัััั ะฟะพะดะบะฐัะตะณะพัะธะธ:
   "POD-ัะธััะตะผั", "ะะธะดะบะพััั ะดะปั POD-ัะธััะตะผ", ะธ ั.ะด.
   โ
5. ะะปะธะบ ะฟะพ "ะะธะดะบะพััั ะดะปั POD-ัะธััะตะผ"
   โ
6. ะะพะบะฐะทัะฒะฐัััั ะฟะพะดะบะฐัะตะณะพัะธะธ:
   "ะะตะทะฝะธะบะพัะธะฝะพะฒัะต", "ะกะพะปะตะฒัะต", "ะฉะตะปะพัะฝัะต"
   โ
7. ะะปะธะบ ะฟะพ "ะกะพะปะตะฒัะต"
   โ
8. ะะพะบะฐะทัะฒะฐัััั ะตัะต ะฟะพะดะบะฐัะตะณะพัะธะธ:
   "10 ะผะป", "30 ะผะป"
   โ
9. ะะปะธะบ ะฟะพ "10 ะผะป"
   โ
10. ะะพะบะฐะทัะฒะฐัััั ัะพะฒะฐัั ััะพะน ะบะฐัะตะณะพัะธะธ
```

## ๐ Breadcrumbs (ัะปะตะฑะฝัะต ะบัะพัะบะธ)

ะัะตะณะดะฐ ะฟะพะบะฐะทัะฒะฐัั ะฟััั:
```
ะัะต ะบะฐัะตะณะพัะธะธ > Vape ะธะฝะดััััะธั > ะะธะดะบะพััั ะดะปั POD-ัะธััะตะผ > ะกะพะปะตะฒัะต > 10 ะผะป
```

ะะปะธะบ ะฟะพ ะปัะฑะพะผั ัะปะตะผะตะฝัั โ ะฟะตัะตัะพะด ะฝะฐ ััะพั ััะพะฒะตะฝั.

## ๐จ UI/UX ะพัะพะฑะตะฝะฝะพััะธ

### ะะฐััะพัะบะธ ะบะฐัะตะณะพัะธะน:
- ๐ **ะะบะพะฝะบะฐ ะฟะฐะฟะบะธ** - ะตัะปะธ ะตััั ะฟะพะดะบะฐัะตะณะพัะธะธ
- ๐ฆ **ะะบะพะฝะบะฐ ะฟะฐะบะตัะฐ** - ะตัะปะธ ัะพะปัะบะพ ัะพะฒะฐัั
- ๐ข **ะกััััะธะบ ัะพะฒะฐัะพะฒ** - ะฟะพะบะฐะทัะฒะฐะตั ะบะพะปะธัะตััะฒะพ
- ๐ **ะฆะฒะตัะฝะพะน ะธะฝะดะธะบะฐัะพั** - "ะััั ะฟะพะดะบะฐัะตะณะพัะธะธ"
- โก๏ธ **ะกััะตะปะบะฐ ัะฟัะฐะฒะฐ** - ัะบะฐะทัะฒะฐะตั ะฝะฐ ะฒะพะทะผะพะถะฝะพััั ะฟะตัะตัะพะดะฐ
- โจ **Hover ัััะตะบัั** - ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต ะธ ัะตะฝั

### ะขะพะฒะฐัั:
- ๐ผ๏ธ ะัะตะฒัั ัะพะฒะฐัะฐ
- ๐ฐ ะฆะตะฝะฐ
- ๐ ะะฐะปะธัะธะต ะฒ ะผะฐะณะฐะทะธะฝะต
- ๐ ะะฝะพะฟะบะฐ "ะ ะบะพัะทะธะฝั"
- ๐๏ธ ะะตัะตะบะปััะตะฝะธะต ะฒะธะดะฐ: ัะตัะบะฐ/ัะฟะธัะพะบ

## ๐ ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะกัััะบัััะฐ ะดะฐะฝะฝัั

**ะะฐัะตะณะพัะธั:**
```typescript
{
  id: "cat_123",
  shop_code: "shop1",
  name: "ะะธะดะบะพััะธ ะดะปั POD-ัะธััะตะผ",
  parent_id: "cat_parent",
  level: 1,
  full_path: "Vape ะธะฝะดััััะธั > ะะธะดะบะพััะธ ะดะปั POD-ัะธััะตะผ",
  product_count: 45,
  has_subcategories: true,
  sort_order: 0
}
```

**Breadcrumb:**
```typescript
[
  { id: "cat_1", name: "Vape ะธะฝะดััััะธั", level: 0 },
  { id: "cat_2", name: "ะะธะดะบะพััะธ", level: 1 },
  { id: "cat_3", name: "ะกะพะปะตะฒัะต", level: 2 }
]
```

## ๐ง ะะฐัััะพะนะบะฐ

### Backend:

ะะพััั ัะถะต ะฝะฐัััะพะตะฝั ะฒ `/backend/src/routes/catalog.ts`

### Frontend:

1. ะะพัั ะฝะฐัััะพะตะฝ ะฒ `App.tsx`:
   ```tsx
   <Route path="catalog" element={<CatalogHierarchical />} />
   ```

2. ะกัะฐััะน ะบะฐัะฐะปะพะณ ะดะพัััะฟะตะฝ ะฟะพ `/catalog-old` (ะดะปั ัะพะฒะผะตััะธะผะพััะธ)

## ๐ ะะฐะทะฐ ะดะฐะฝะฝัั

ะัะฟะพะปัะทัะตััั ัะฐะฑะปะธัะฐ `catalog_categories`:
- `id` - ัะฝะธะบะฐะปัะฝัะน ID ะบะฐัะตะณะพัะธะธ
- `shop_code` - ะบะพะด ะผะฐะณะฐะทะธะฝะฐ
- `name` - ะฝะฐะทะฒะฐะฝะธะต
- `parent_id` - ID ัะพะดะธัะตะปั (NULL ะดะปั ะบะพัะฝะตะฒัั)
- `level` - ััะพะฒะตะฝั ะฒะปะพะถะตะฝะฝะพััะธ (0, 1, 2...)
- `full_path` - ะฟะพะปะฝัะน ะฟััั ("ะะฐัะตะณะพัะธั1 > ะะฐัะตะณะพัะธั2")
- `sort_order` - ะฟะพััะดะพะบ ัะพััะธัะพะฒะบะธ

## ๐ฏ TODO / ะฃะปัััะตะฝะธั

- [ ] ะะพะฑะฐะฒะธัั ะฒัะฑะพั ะผะฐะณะฐะทะธะฝะฐ (ัะตะนัะฐั ัะฐัะดะบะพะด shop_code)
- [ ] ะะพะฑะฐะฒะธัั ัะธะปัััั ัะพะฒะฐัะพะฒ (ัะตะฝะฐ, ะฝะฐะปะธัะธะต)
- [ ] ะะพะฑะฐะฒะธัั ะฟะพะธัะบ ะฒะฝัััะธ ะบะฐัะตะณะพัะธะธ
- [ ] ะะพะฑะฐะฒะธัั ัะพััะฐะฝะตะฝะธะต ะฟะพะทะธัะธะธ ะฟัะธ ะฒะพะทะฒัะฐัะต ะฝะฐะทะฐะด
- [ ] ะะพะฑะฐะฒะธัั SEO-ะพะฟัะธะผะธะทะฐัะธั (ะผะตัะฐ-ัะตะณะธ, URL)
- [ ] ะะพะฑะฐะฒะธัั ะบััะธัะพะฒะฐะฝะธะต ะบะฐัะตะณะพัะธะน
- [ ] ะะพะฑะฐะฒะธัั ัะบะตะปะตัะพะฝั ะฒะผะตััะพ ัะฟะธะฝะฝะตัะฐ

## ๐ ะะทะฒะตััะฝัะต ะพะณัะฐะฝะธัะตะฝะธั

1. **Shop Code**: ะกะตะนัะฐั ะธัะฟะพะปัะทัะตััั ัะฐัะดะบะพะด `shop1`. ะัะถะฝะพ ะดะพะฑะฐะฒะธัั ะฒัะฑะพั ะผะฐะณะฐะทะธะฝะฐ.
2. **ะััะธัะพะฒะฐะฝะธะต**: ะะฐัะตะณะพัะธะธ ะทะฐะณััะถะฐัััั ะบะฐะถะดัะน ัะฐะท ะทะฐะฝะพะฒะพ.

## ๐ ะัะธะผะตัั ะบะฐัะตะณะพัะธะน ะฒ ะะ

```
Vape ะธะฝะดััััะธั (level 0)
โโโ POD-ัะธััะตะผั (level 1)
โ   โโโ ะดะพ 30 W (level 2)
โ   โโโ ะดะพ 200 W (level 2)
โโโ ะะธะดะบะพััั ะดะปั POD-ัะธััะตะผ (level 1)
โ   โโโ ะะตะทะฝะธะบะพัะธะฝะพะฒัะต (level 2)
โ   โโโ ะกะพะปะตะฒัะต (level 2)
โ   โ   โโโ 10 ะผะป (level 3)
โ   โ   โโโ 30 ะผะป (level 3)
โ   โโโ ะฉะตะปะพัะฝัะต (level 2)
โโโ ะญะปะตะบััะพะฝะฝัะต ัะธะณะฐัะตัั (level 1)
    โโโ ะะ 10000 ะขะฏะ (level 2)
    โโโ ะะข 10000 ะะ 20000 (level 2)
    โโโ ะะข 20000 (level 2)

ะะฐะปััะฝะฝะฐั ะะฝะดััััะธั (level 0)
โโโ ะะฐะปััะฝะฝัะต ัะผะตัะธ (level 1)
โ   โโโ ะะฐััะธัะตะปัะฝัะต ัะผะตัะธ (level 2)
โ   โโโ ะขะฐะฑะฐัะฝัะต ัะผะตัะธ (level 2)
โ   โ   โโโ ะะพ 50 ะณัะฐะผะผ (level 3)
โ   โ   โโโ ะะพ 250 ะณัะฐะผะผ (level 3)
โ   โโโ ะงะฐะนะฝัะต ัะผะตัะธ (level 2)
โโโ ะะฐะปััะฝั ะธ ะฐะบัะตัััะฐัั (level 1)
    โโโ ะะบัะตัััะฐัั ะดะปั ะบะฐะปััะฝะพะฒ (level 2)
        โโโ ะะพะปะฑั (level 3)
        โโโ ะงะฐัะธ (level 3)
        โโโ ะฉะธะฟัั (level 3)
```

## ๐ ะะพัะพะฒะพ!

ะกะธััะตะผะฐ ะฟะพะปะฝะพัััั ััะฝะบัะธะพะฝะฐะปัะฝะฐ ะธ ะณะพัะพะฒะฐ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!

